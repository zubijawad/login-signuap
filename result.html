<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Result</title>
</head>
<body>
  <h2>Your Result</h2>
  <div id="resultBox"></div>

  <h3>Past Attempts:</h3>
  <ul id="pastResults"></ul>

  <script>
    const result = JSON.parse(localStorage.getItem("lastResult"));
    const pastResults = JSON.parse(localStorage.getItem("results")) || [];

    document.getElementById("resultBox").innerHTML = `
      <p>Email: ${result.email}</p>
      <p>Score: ${result.score}/${result.total}</p>
      <p>Percentage: ${result.percentage}%</p>
      <p>Date: ${result.timestamp}</p>
    `;

    const list = document.getElementById("pastResults");
    pastResults.forEach(r => {
      const li = document.createElement("li");
      li.innerText = `${r.timestamp} - ${r.email} - ${r.score}/${r.total} (${r.percentage}%)`;
      list.appendChild(li);
    });
  </script>
</body>
</html>